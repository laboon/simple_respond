#!/usr/bin/env ruby

require 'sinatra'

if ARGV.length != 2 then
  puts 'USAGE: simple_respond <port> <JSON file>'
  Kernel.exit(1)
end

set :port, ARGV[0]

get '*' do
  content_type :json
  response = ARGV[1]
  response ||= 'response.json'
  puts "Responding with #{response}"
  File.read(response)
end
